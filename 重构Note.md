### 两顶帽子

Kent Beck有一个“两顶帽子”的比喻。使用重构技术开发软件时，你把自己的时间分配给两种截然不同的行为：添加新功能，以及重构。添加新功能时，你不应该修改既有代码。通过测试(并让测试正常运行)，你可以衡量自己的工作进度。重构时你不能再添加功能，只管改进程序结构。此时你不应该添加任何测试（除非发现有先前遗漏的东西），只在绝对必要（用以处理接口变化）时才修改测试。



### 为何重构

1. ​

